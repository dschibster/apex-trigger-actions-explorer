<template>
    <div class="slds-list__item slds-border_top">
        <div class="slds-grid slds-grid_align-spread slds-grid_vertical-align-center slds-p-around_x-small">
            <!-- Order Number -->
            <div class="slds-col slds-size_1-of-12 slds-text-align_center">
                <template if:false={isEditOrderMode}>
                    <span class="slds-text-heading_small slds-text-color_weak">{action.Order__c}</span>
                </template>
                <template if:true={isEditOrderMode}>
                    <div class="slds-grid slds-grid_vertical slds-grid_align-center">
                        <lightning-button-icon
                            variant="neutral"
                            icon-name="utility:up"
                            size="x-small"
                            title="Move Up"
                            onclick={handleMoveUp}
                            disabled={isFirstItem}
                            class="slds-m-bottom_xx-small">
                        </lightning-button-icon>
                        <lightning-button-icon
                            variant="neutral"
                            icon-name="utility:down"
                            size="x-small"
                            title="Move Down"
                            onclick={handleMoveDown}
                            disabled={isLastItem}>
                        </lightning-button-icon>
                    </div>
                </template>
            </div>
            
            <!-- Icon -->
            <div class="slds-col slds-size_1-of-12 slds-text-align_center">
                <div>
                    <lightning-icon 
                        class="icon-container slds-p-around_xx-small"
                        icon-name={iconName} 
                        size="small"
                        variant="inverse">
                    </lightning-icon>
                </div>
            </div>
            
            <!-- Title and Description -->
            <div class="slds-col slds-size_7-of-12">
                <div class="slds-grid slds-grid_vertical">
                    <div class="slds-grid slds-grid_wrap slds-grid_align-spread">
                        <div class="slds-grid slds-grid_wrap">
                            <a href={metadataUrl} target="_blank" class="slds-text-link">
                                <b>{displayName}</b>
                            </a>
                            <span role="separator" class="slds-text-color_weak slds-m-horizontal_x-small">•</span>
                            <span class="slds-text-color_weak slds-text-body_small">{actionType}</span>
                            <template if:true={classOrFlowName}>
                                <span role="separator" class="slds-text-color_weak slds-m-horizontal_x-small">•</span>
                                <span class="slds-text-color_weak slds-text-body_small">{classOrFlowName}</span>
                            </template>
                        </div>
                    </div>
                    <p class="slds-text-body_small slds-text-color_weak slds-truncate">{action.Description__c}</p>
                </div>
            </div>
            
            <!-- Status Badge -->
            <div class="slds-col slds-size_2-of-12 slds-text-align_center">
                <lightning-badge 
                    label={statusLabel} 
                    class={statusClass}>
                </lightning-badge>
            </div>
            
            <!-- Chevron Dropdown -->
            <div class="slds-col slds-size_1-of-12 slds-text-align_center">
                <lightning-button-menu 
                    variant="border-filled" 
                    icon-name="utility:down"
                    size="small"
                    onselect={handleMenuSelect}
                    class="slds-dropdown-trigger slds-dropdown-trigger_click">
                    <lightning-menu-item value="view" label="View Details"></lightning-menu-item>
                    <lightning-menu-item value="edit" label="Edit"></lightning-menu-item>
                </lightning-button-menu>
            </div>
        </div>
    </div>
</template>


